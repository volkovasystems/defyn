"use strict";

/*;
	@test-license:
		The MIT License (MIT)
		@mit-license

		Copyright (@c) 2017 Richeve Siodina Bebedor
		@email: richeve.bebedor@gmail.com

		Permission is hereby granted, free of charge, to any person obtaining a copy
		of this software and associated documentation files (the "Software"), to deal
		in the Software without restriction, including without limitation the rights
		to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
		copies of the Software, and to permit persons to whom the Software is
		furnished to do so, subject to the following conditions:

		The above copyright notice and this permission notice shall be included in all
		copies or substantial portions of the Software.

		THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
		IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
		FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
		AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
		LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
		OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
		SOFTWARE.
	@end-test-license

	@test-configuration:
		{
			"package": "defyn",
			"path": "defyn/test.module.js",
			"file": "test.module.js",
			"module": "test",
			"author": "Richeve S. Bebedor",
			"eMail": "richeve.bebedor@gmail.com",
			"contributors": [
				"John Lenon Maghanoy <johnlenonmaghanoy@gmail.com>",
				"Vinse Vinalon <vinsevinalon@gmail.com>"
			],
			"repository": "https://github.com/volkovasystems/defyn.git"
		}
	@end-test-configuration

	@test-documentation:

	@end-test-documentation

	@include:
		{
			"assert": "should",
			"defyn": "defyn",
			"path": "path"
		}
	@end-include
*/

var assert=require("should");





//: @bridge:
var path=require("path");
//: @end-bridge





//: @bridge:
describe("defyn",function(){

var bridgeURL="file://"+path.resolve(__dirname,"bridge.html");

describe("`defyn( 'property', { } )`",function(){
it("should return an instance of Descriptor",function(){

var result=browser.url(bridgeURL).execute(

function(){
return defyn("property",{})instanceof defyn.Definition;
}).

value;

assert.equal(result,true);
});
});

describe("`defyn( 'property', { } ).define( { 'value': 123, 'configurable': false } )`",function(){
it("should define properly",function(){
//: @ignore:
			let result = browser.url( bridgeURL ).execute(

				function( ){
					let data = { };
					let definition = defyn( "property", data );
					definition.define( { "value": 123, "configurable": false } );

					return JSON.stringify( definition.descriptor );
				}

			).value;
			//: @end-ignore

var descriptor=JSON.parse(result);

assert.equal(descriptor.value,123);

assert.equal(descriptor.configurable,false);

assert.equal(descriptor.enumerable,true);

assert.equal(descriptor.writable,true);

assert.equal(descriptor.get,undefined);

assert.equal(descriptor.set,undefined);
});
});

describe("`defyn( 0, [ ] ).define( { 'value': 1, 'configurable': false } )`",function(){
it("should define properly",function(){
//: @ignore:
			let result = browser.url( bridgeURL ).execute(

				function( ){
					let data = [ ];
					let definition = defyn( 0, data );
					definition.define( { "value": 1, "configurable": false } );

					return JSON.stringify( definition.descriptor );
				}

			).value;
			//: @end-ignore

var descriptor=JSON.parse(result);

assert.equal(descriptor.value,1);

assert.equal(descriptor.configurable,false);

assert.equal(descriptor.enumerable,true);

assert.equal(descriptor.writable,true);

assert.equal(descriptor.get,undefined);

assert.equal(descriptor.set,undefined);

});
});

describe("`defyn( Symbol.for( 'hello' ), { } ).define( { 'value': Symbol.for( 'hello' ), 'configurable': false } )`",function(){
it("should define properly",function(){
//: @ignore:
			let result = browser.url( bridgeURL ).execute(

				function( ){
					let data = { };
					let definition = defyn( Symbol.for( "hello" ), data );
					definition.define( { "value": Symbol.for( "hello" ), "configurable": false } );

					return JSON.stringify( definition.descriptor );
				}

			).value;
			//: @end-ignore

var descriptor=JSON.parse(result);

assert.equal(descriptor.value,undefined);

assert.equal(descriptor.configurable,false);

assert.equal(descriptor.enumerable,true);

assert.equal(descriptor.writable,true);

assert.equal(descriptor.get,undefined);

assert.equal(descriptor.set,undefined);
});
});

describe("`defyn with string property and instance of class as entity`",function(){
it("should define properly",function(){
//: @ignore:
			let result = browser.url( bridgeURL ).execute(

				function( ){
					class Orange {
						constructor( ){ }

						static orange( ){
							return "orange";
					    }
					}

					let orange = new Orange( )

					let definition = defyn( "getApple", orange );
					definition.define( { "value": function( ){ return "apple"; } } );

					return JSON.stringify( definition.descriptor );
				}

			).value;
			//: @end-ignore

var descriptor=JSON.parse(result);

assert.equal(descriptor.value,undefined);

assert.equal(descriptor.configurable,true);

assert.equal(descriptor.enumerable,true);

assert.equal(descriptor.writable,true);

assert.equal(descriptor.get,undefined);

assert.equal(descriptor.set,undefined);

});
});

});
//: @end-bridge
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QuYnJpZGdlLmpzIl0sIm5hbWVzIjpbImFzc2VydCIsInJlcXVpcmUiLCJwYXRoIiwiZGVzY3JpYmUiLCJicmlkZ2VVUkwiLCJyZXNvbHZlIiwiX19kaXJuYW1lIiwiaXQiLCJyZXN1bHQiLCJicm93c2VyIiwidXJsIiwiZXhlY3V0ZSIsImRlZnluIiwiRGVmaW5pdGlvbiIsInZhbHVlIiwiZXF1YWwiLCJkZXNjcmlwdG9yIiwiSlNPTiIsInBhcnNlIiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwiZ2V0IiwidW5kZWZpbmVkIiwic2V0Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF3REEsR0FBTUEsUUFBU0MsUUFBUyxRQUFULENBQWY7Ozs7OztBQU1BO0FBQ0EsR0FBTUMsTUFBT0QsUUFBUyxNQUFULENBQWI7QUFDQTs7Ozs7O0FBTUE7QUFDQUUsU0FBVSxPQUFWLENBQW1CLFVBQU87O0FBRXpCLEdBQUlDLHFCQUF1QkYsS0FBS0csT0FBTCxDQUFjQyxTQUFkLENBQXlCLGFBQXpCLENBQTNCOztBQUVBSCxTQUFVLDRCQUFWLENBQXdDLFVBQU87QUFDOUNJLEdBQUkseUNBQUosQ0FBK0MsVUFBTzs7QUFFckQsR0FBSUMsUUFBU0MsUUFBUUMsR0FBUixDQUFhTixTQUFiLEVBQXlCTyxPQUF6Qjs7QUFFWixVQUFXO0FBQ1YsTUFBT0MsT0FBTyxVQUFQLENBQW1CLEVBQW5CLFdBQW9DQSxPQUFNQyxVQUFqRDtBQUNBLENBSlc7O0FBTVhDLEtBTkY7O0FBUUFkLE9BQU9lLEtBQVAsQ0FBY1AsTUFBZCxDQUFzQixJQUF0QjtBQUNBLENBWEQ7QUFZQSxDQWJEOztBQWVBTCxTQUFVLDhFQUFWLENBQTBGLFVBQU87QUFDaEdJLEdBQUksd0JBQUosQ0FBOEIsVUFBTztBQUNwQztBQUNIOzs7Ozs7Ozs7Ozs7O0FBYUE7O0FBRUcsR0FB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O1xuXG4vKjtcblx0QHRlc3QtbGljZW5zZTpcblx0XHRUaGUgTUlUIExpY2Vuc2UgKE1JVClcblx0XHRAbWl0LWxpY2Vuc2VcblxuXHRcdENvcHlyaWdodCAoQGMpIDIwMTcgUmljaGV2ZSBTaW9kaW5hIEJlYmVkb3Jcblx0XHRAZW1haWw6IHJpY2hldmUuYmViZWRvckBnbWFpbC5jb21cblxuXHRcdFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcblx0XHRvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG5cdFx0aW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuXHRcdHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcblx0XHRjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcblx0XHRmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5cdFx0VGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsXG5cdFx0Y29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuXHRcdFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1Jcblx0XHRJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcblx0XHRGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcblx0XHRBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG5cdFx0TElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcblx0XHRPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRVxuXHRcdFNPRlRXQVJFLlxuXHRAZW5kLXRlc3QtbGljZW5zZVxuXG5cdEB0ZXN0LWNvbmZpZ3VyYXRpb246XG5cdFx0e1xuXHRcdFx0XCJwYWNrYWdlXCI6IFwiZGVmeW5cIixcblx0XHRcdFwicGF0aFwiOiBcImRlZnluL3Rlc3QubW9kdWxlLmpzXCIsXG5cdFx0XHRcImZpbGVcIjogXCJ0ZXN0Lm1vZHVsZS5qc1wiLFxuXHRcdFx0XCJtb2R1bGVcIjogXCJ0ZXN0XCIsXG5cdFx0XHRcImF1dGhvclwiOiBcIlJpY2hldmUgUy4gQmViZWRvclwiLFxuXHRcdFx0XCJlTWFpbFwiOiBcInJpY2hldmUuYmViZWRvckBnbWFpbC5jb21cIixcblx0XHRcdFwiY29udHJpYnV0b3JzXCI6IFtcblx0XHRcdFx0XCJKb2huIExlbm9uIE1hZ2hhbm95IDxqb2hubGVub25tYWdoYW5veUBnbWFpbC5jb20+XCIsXG5cdFx0XHRcdFwiVmluc2UgVmluYWxvbiA8dmluc2V2aW5hbG9uQGdtYWlsLmNvbT5cIlxuXHRcdFx0XSxcblx0XHRcdFwicmVwb3NpdG9yeVwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS92b2xrb3Zhc3lzdGVtcy9kZWZ5bi5naXRcIlxuXHRcdH1cblx0QGVuZC10ZXN0LWNvbmZpZ3VyYXRpb25cblxuXHRAdGVzdC1kb2N1bWVudGF0aW9uOlxuXG5cdEBlbmQtdGVzdC1kb2N1bWVudGF0aW9uXG5cblx0QGluY2x1ZGU6XG5cdFx0e1xuXHRcdFx0XCJhc3NlcnRcIjogXCJzaG91bGRcIixcblx0XHRcdFwiZGVmeW5cIjogXCJkZWZ5blwiLFxuXHRcdFx0XCJwYXRoXCI6IFwicGF0aFwiXG5cdFx0fVxuXHRAZW5kLWluY2x1ZGVcbiovXG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoIFwic2hvdWxkXCIgKTtcblxuXG5cblxuXG4vLzogQGJyaWRnZTpcbmNvbnN0IHBhdGggPSByZXF1aXJlKCBcInBhdGhcIiApO1xuLy86IEBlbmQtYnJpZGdlXG5cblxuXG5cblxuLy86IEBicmlkZ2U6XG5kZXNjcmliZSggXCJkZWZ5blwiLCAoICkgPT4ge1xuXG5cdGxldCBicmlkZ2VVUkwgPSBgZmlsZTovLyR7IHBhdGgucmVzb2x2ZSggX19kaXJuYW1lLCBcImJyaWRnZS5odG1sXCIgKSB9YDtcblxuXHRkZXNjcmliZSggXCJgZGVmeW4oICdwcm9wZXJ0eScsIHsgfSApYFwiLCAoICkgPT4ge1xuXHRcdGl0KCBcInNob3VsZCByZXR1cm4gYW4gaW5zdGFuY2Ugb2YgRGVzY3JpcHRvclwiLCAoICkgPT4ge1xuXG5cdFx0XHRsZXQgcmVzdWx0ID0gYnJvd3Nlci51cmwoIGJyaWRnZVVSTCApLmV4ZWN1dGUoXG5cblx0XHRcdFx0ZnVuY3Rpb24oICl7XG5cdFx0XHRcdFx0cmV0dXJuIGRlZnluKCBcInByb3BlcnR5XCIsIHsgfSApIGluc3RhbmNlb2YgZGVmeW4uRGVmaW5pdGlvbjtcblx0XHRcdFx0fVxuXG5cdFx0XHQpLnZhbHVlO1xuXG5cdFx0XHRhc3NlcnQuZXF1YWwoIHJlc3VsdCwgdHJ1ZSApO1xuXHRcdH0gKTtcblx0fSApO1xuXG5cdGRlc2NyaWJlKCBcImBkZWZ5biggJ3Byb3BlcnR5JywgeyB9ICkuZGVmaW5lKCB7ICd2YWx1ZSc6IDEyMywgJ2NvbmZpZ3VyYWJsZSc6IGZhbHNlIH0gKWBcIiwgKCApID0+IHtcblx0XHRpdCggXCJzaG91bGQgZGVmaW5lIHByb3Blcmx5XCIsICggKSA9PiB7XG5cdFx0XHQvLzogQGlnbm9yZTpcbi8qXG5cdFx0XHRsZXQgcmVzdWx0ID0gYnJvd3Nlci51cmwoIGJyaWRnZVVSTCApLmV4ZWN1dGUoXG5cblx0XHRcdFx0ZnVuY3Rpb24oICl7XG5cdFx0XHRcdFx0bGV0IGRhdGEgPSB7IH07XG5cdFx0XHRcdFx0bGV0IGRlZmluaXRpb24gPSBkZWZ5biggXCJwcm9wZXJ0eVwiLCBkYXRhICk7XG5cdFx0XHRcdFx0ZGVmaW5pdGlvbi5kZWZpbmUoIHsgXCJ2YWx1ZVwiOiAxMjMsIFwiY29uZmlndXJhYmxlXCI6IGZhbHNlIH0gKTtcblxuXHRcdFx0XHRcdHJldHVybiBKU09OLnN0cmluZ2lmeSggZGVmaW5pdGlvbi5kZXNjcmlwdG9yICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0KS52YWx1ZTtcblx0XHRcdCovXG4vLzogQGVuZC1pZ25vcmVcblxuXHRcdFx0bGV0IGRlc2NyaXB0b3IgPSBKU09OLnBhcnNlKCByZXN1bHQgKTtcblxuXHRcdFx0YXNzZXJ0LmVxdWFsKCBkZXNjcmlwdG9yLnZhbHVlLCAxMjMgKTtcblxuXHRcdFx0YXNzZXJ0LmVxdWFsKCBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSwgZmFsc2UgKTtcblxuXHRcdFx0YXNzZXJ0LmVxdWFsKCBkZXNjcmlwdG9yLmVudW1lcmFibGUsIHRydWUgKTtcblxuXHRcdFx0YXNzZXJ0LmVxdWFsKCBkZXNjcmlwdG9yLndyaXRhYmxlLCB0cnVlICk7XG5cblx0XHRcdGFzc2VydC5lcXVhbCggZGVzY3JpcHRvci5nZXQsIHVuZGVmaW5lZCApO1xuXG5cdFx0XHRhc3NlcnQuZXF1YWwoIGRlc2NyaXB0b3Iuc2V0LCB1bmRlZmluZWQgKTtcblx0XHR9ICk7XG5cdH0gKTtcblxuXHRkZXNjcmliZSggXCJgZGVmeW4oIDAsIFsgXSApLmRlZmluZSggeyAndmFsdWUnOiAxLCAnY29uZmlndXJhYmxlJzogZmFsc2UgfSApYFwiLCAoICkgPT4ge1xuXHRcdGl0KCBcInNob3VsZCBkZWZpbmUgcHJvcGVybHlcIiwgKCApID0+IHtcblx0XHRcdC8vOiBAaWdub3JlOlxuLypcblx0XHRcdGxldCByZXN1bHQgPSBicm93c2VyLnVybCggYnJpZGdlVVJMICkuZXhlY3V0ZShcblxuXHRcdFx0XHRmdW5jdGlvbiggKXtcblx0XHRcdFx0XHRsZXQgZGF0YSA9IFsgXTtcblx0XHRcdFx0XHRsZXQgZGVmaW5pdGlvbiA9IGRlZnluKCAwLCBkYXRhICk7XG5cdFx0XHRcdFx0ZGVmaW5pdGlvbi5kZWZpbmUoIHsgXCJ2YWx1ZVwiOiAxLCBcImNvbmZpZ3VyYWJsZVwiOiBmYWxzZSB9ICk7XG5cblx0XHRcdFx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkoIGRlZmluaXRpb24uZGVzY3JpcHRvciApO1xuXHRcdFx0XHR9XG5cblx0XHRcdCkudmFsdWU7XG5cdFx0XHQqL1xuLy86IEBlbmQtaWdub3JlXG5cblx0XHRcdGxldCBkZXNjcmlwdG9yID0gSlNPTi5wYXJzZSggcmVzdWx0ICk7XG5cblx0XHRcdGFzc2VydC5lcXVhbCggZGVzY3JpcHRvci52YWx1ZSwgMSApO1xuXG5cdFx0XHRhc3NlcnQuZXF1YWwoIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCBmYWxzZSApO1xuXG5cdFx0XHRhc3NlcnQuZXF1YWwoIGRlc2NyaXB0b3IuZW51bWVyYWJsZSwgdHJ1ZSApO1xuXG5cdFx0XHRhc3NlcnQuZXF1YWwoIGRlc2NyaXB0b3Iud3JpdGFibGUsIHRydWUgKTtcblxuXHRcdFx0YXNzZXJ0LmVxdWFsKCBkZXNjcmlwdG9yLmdldCwgdW5kZWZpbmVkICk7XG5cblx0XHRcdGFzc2VydC5lcXVhbCggZGVzY3JpcHRvci5zZXQsIHVuZGVmaW5lZCApO1xuXG5cdFx0fSApO1xuXHR9ICk7XG5cblx0ZGVzY3JpYmUoIFwiYGRlZnluKCBTeW1ib2wuZm9yKCAnaGVsbG8nICksIHsgfSApLmRlZmluZSggeyAndmFsdWUnOiBTeW1ib2wuZm9yKCAnaGVsbG8nICksICdjb25maWd1cmFibGUnOiBmYWxzZSB9IClgXCIsICggKSA9PiB7XG5cdFx0aXQoIFwic2hvdWxkIGRlZmluZSBwcm9wZXJseVwiLCAoICkgPT4ge1xuXHRcdFx0Ly86IEBpZ25vcmU6XG4vKlxuXHRcdFx0bGV0IHJlc3VsdCA9IGJyb3dzZXIudXJsKCBicmlkZ2VVUkwgKS5leGVjdXRlKFxuXG5cdFx0XHRcdGZ1bmN0aW9uKCApe1xuXHRcdFx0XHRcdGxldCBkYXRhID0geyB9O1xuXHRcdFx0XHRcdGxldCBkZWZpbml0aW9uID0gZGVmeW4oIFN5bWJvbC5mb3IoIFwiaGVsbG9cIiApLCBkYXRhICk7XG5cdFx0XHRcdFx0ZGVmaW5pdGlvbi5kZWZpbmUoIHsgXCJ2YWx1ZVwiOiBTeW1ib2wuZm9yKCBcImhlbGxvXCIgKSwgXCJjb25maWd1cmFibGVcIjogZmFsc2UgfSApO1xuXG5cdFx0XHRcdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KCBkZWZpbml0aW9uLmRlc2NyaXB0b3IgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHQpLnZhbHVlO1xuXHRcdFx0Ki9cbi8vOiBAZW5kLWlnbm9yZVxuXG5cdFx0XHRsZXQgZGVzY3JpcHRvciA9IEpTT04ucGFyc2UoIHJlc3VsdCApO1xuXG5cdFx0XHRhc3NlcnQuZXF1YWwoIGRlc2NyaXB0b3IudmFsdWUsIHVuZGVmaW5lZCApO1xuXG5cdFx0XHRhc3NlcnQuZXF1YWwoIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCBmYWxzZSApO1xuXG5cdFx0XHRhc3NlcnQuZXF1YWwoIGRlc2NyaXB0b3IuZW51bWVyYWJsZSwgdHJ1ZSApO1xuXG5cdFx0XHRhc3NlcnQuZXF1YWwoIGRlc2NyaXB0b3Iud3JpdGFibGUsIHRydWUgKTtcblxuXHRcdFx0YXNzZXJ0LmVxdWFsKCBkZXNjcmlwdG9yLmdldCwgdW5kZWZpbmVkICk7XG5cblx0XHRcdGFzc2VydC5lcXVhbCggZGVzY3JpcHRvci5zZXQsIHVuZGVmaW5lZCApO1xuXHRcdH0gKTtcblx0fSApO1xuXG5cdGRlc2NyaWJlKCBcImBkZWZ5biB3aXRoIHN0cmluZyBwcm9wZXJ0eSBhbmQgaW5zdGFuY2Ugb2YgY2xhc3MgYXMgZW50aXR5YFwiLCAoICkgPT4ge1xuXHRcdGl0KCBcInNob3VsZCBkZWZpbmUgcHJvcGVybHlcIiwgKCApID0+IHtcblx0XHRcdC8vOiBAaWdub3JlOlxuLypcblx0XHRcdGxldCByZXN1bHQgPSBicm93c2VyLnVybCggYnJpZGdlVVJMICkuZXhlY3V0ZShcblxuXHRcdFx0XHRmdW5jdGlvbiggKXtcblx0XHRcdFx0XHRjbGFzcyBPcmFuZ2Uge1xuXHRcdFx0XHRcdFx0Y29uc3RydWN0b3IoICl7IH1cblxuXHRcdFx0XHRcdFx0c3RhdGljIG9yYW5nZSggKXtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIFwib3JhbmdlXCI7XG5cdFx0XHRcdFx0ICAgIH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRsZXQgb3JhbmdlID0gbmV3IE9yYW5nZSggKVxuXG5cdFx0XHRcdFx0bGV0IGRlZmluaXRpb24gPSBkZWZ5biggXCJnZXRBcHBsZVwiLCBvcmFuZ2UgKTtcblx0XHRcdFx0XHRkZWZpbml0aW9uLmRlZmluZSggeyBcInZhbHVlXCI6IGZ1bmN0aW9uKCApeyByZXR1cm4gXCJhcHBsZVwiOyB9IH0gKTtcblxuXHRcdFx0XHRcdHJldHVybiBKU09OLnN0cmluZ2lmeSggZGVmaW5pdGlvbi5kZXNjcmlwdG9yICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0KS52YWx1ZTtcblx0XHRcdCovXG4vLzogQGVuZC1pZ25vcmVcblxuXHRcdFx0bGV0IGRlc2NyaXB0b3IgPSBKU09OLnBhcnNlKCByZXN1bHQgKTtcblxuXHRcdFx0YXNzZXJ0LmVxdWFsKCBkZXNjcmlwdG9yLnZhbHVlLCB1bmRlZmluZWQgKTtcblxuXHRcdFx0YXNzZXJ0LmVxdWFsKCBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSwgdHJ1ZSApO1xuXG5cdFx0XHRhc3NlcnQuZXF1YWwoIGRlc2NyaXB0b3IuZW51bWVyYWJsZSwgdHJ1ZSApO1xuXG5cdFx0XHRhc3NlcnQuZXF1YWwoIGRlc2NyaXB0b3Iud3JpdGFibGUsIHRydWUgKTtcblxuXHRcdFx0YXNzZXJ0LmVxdWFsKCBkZXNjcmlwdG9yLmdldCwgdW5kZWZpbmVkICk7XG5cblx0XHRcdGFzc2VydC5lcXVhbCggZGVzY3JpcHRvci5zZXQsIHVuZGVmaW5lZCApO1xuXG5cdFx0fSApO1xuXHR9ICk7XG5cbn0gKTtcbi8vOiBAZW5kLWJyaWRnZVxuIl19
//# sourceMappingURL=test.bridge.js.map
